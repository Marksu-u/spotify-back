"use strict";(self.webpackChunkspotify_back=self.webpackChunkspotify_back||[]).push([[62],{927:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var s=a(791),r=a(907),i=a(183),n=a(144),o=a(943),c=a(835),u=a(184);const l=(0,s.lazy)((()=>a.e(828).then(a.bind(a,828)))),d=(0,s.lazy)((()=>a.e(839).then(a.bind(a,839)))),w=(0,s.lazy)((()=>a.e(275).then(a.bind(a,275)))),h=(0,s.lazy)((()=>a.e(320).then(a.bind(a,320)))),b=e=>{let{items:t,type:a,onRefresh:b}=e;const[m,p]=(0,s.useState)(1),[x,y]=(0,s.useState)(""),f=(0,s.useMemo)((()=>t.filter((e=>{const t=!!e.title&&e.title.toLowerCase().includes(x.toLowerCase()),a=!!e.artist&&e.artist.toLowerCase().includes(x.toLowerCase());return t||a}))),[t,x]),k=Math.ceil(f.length/4),g=(0,s.useMemo)((()=>{const e=4*(m-1);return f.slice(e,e+4)}),[m,f]),j=(0,s.useMemo)((()=>(0,u.jsx)(s.Suspense,{fallback:(0,u.jsx)(c.Z,{}),children:g.map((e=>(0,u.jsx)(l,{data:e,type:a,onRefresh:b},e._id)))})),[g,a]),A=()=>p((e=>Math.max(e-1,1))),E=()=>p((e=>Math.min(e+1,k)));return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{children:(0,u.jsx)(h,{onSearchChange:e=>{y(e),p(1)}})}),(0,u.jsx)(w,{currentPage:m,totalPages:k,onPrevious:A,onNext:E}),j,(0,u.jsx)(d,{type:a,onAdd:async(e,t)=>{try{switch(t){case"artist":await i.E.createArtist(e);const a=await i.E.getLastArtist(),s=await(0,o.H2)(a);await(0,n.xY)(s);break;case"song":await i.E.uploadAudio(e);const r=await i.E.getLastAudio(),c=await(0,o.qx)(r.audios[0],r,r.name);await(0,n.ei)(c);break;case"album":await i.E.createAlbum(e);const u=await i.E.getLastAlbum(),l=await(0,o.TI)(u);await(0,n.kI)(l);break;case"admin":await i.E.addAdmin(e);break;default:console.error("Unsupported type for add: ".concat(t))}r.B.notify("Ajout r\xe9ussie","success"),b()}catch(a){r.B.notify("Erreur","warning"),console.error("Erreur lors de l'ajout de l'\xe9l\xe9ment :",a)}}}),(0,u.jsx)(w,{currentPage:m,totalPages:k,onPrevious:A,onNext:E})]})}}}]);
//# sourceMappingURL=62.3ae51a6f.chunk.js.map