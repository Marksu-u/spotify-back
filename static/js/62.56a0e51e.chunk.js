"use strict";(self.webpackChunkspotify_back=self.webpackChunkspotify_back||[]).push([[62],{927:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var s=a(791),n=a(907),o=a(183),i=a(144),r=a(835),l=a(184);const c=(0,s.lazy)((()=>a.e(828).then(a.bind(a,828)))),d=(0,s.lazy)((()=>a.e(839).then(a.bind(a,839)))),u=(0,s.lazy)((()=>a.e(275).then(a.bind(a,275)))),h=(0,s.lazy)((()=>a.e(320).then(a.bind(a,320)))),b=e=>{let{items:t,type:a}=e;const[b,w]=(0,s.useState)(1),[m,x]=(0,s.useState)(""),y=(0,s.useMemo)((()=>t.filter((e=>{const t=!!e.title&&e.title.toLowerCase().includes(m.toLowerCase()),a=!!e.artist&&e.artist.toLowerCase().includes(m.toLowerCase());return t||a}))),[t,m]),g=Math.ceil(y.length/4),j=(0,s.useMemo)((()=>{const e=4*(b-1);return y.slice(e,e+4)}),[b,y]);console.log("ITEMS : ",j);const p=(0,s.useMemo)((()=>(0,l.jsx)(s.Suspense,{fallback:(0,l.jsx)(r.Z,{}),children:j.map((e=>(0,l.jsx)(c,{data:e,type:a},e._id)))})),[j,a]),k=()=>w((e=>Math.max(e-1,1))),f=()=>w((e=>Math.min(e+1,g)));return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:(0,l.jsx)(h,{onSearchChange:e=>{x(e),w(1)}})}),(0,l.jsx)(u,{currentPage:b,totalPages:g,onPrevious:k,onNext:f}),p,(0,l.jsx)(d,{type:a,onAdd:async(e,t)=>{try{switch(console.log("newData :",e),t){case"artist":await o.E.createArtist(e);const t=await o.E.getLastArtist(),a={id:t._id,name:t.title};delete a._id,console.log("last add",a),await(0,i.xY)(a);break;case"song":await o.E.uploadAudio(e);break;case"album":await o.E.createAlbum(e);break;case"admin":await o.E.addAdmin(e)}n.B.notify("Ajout r\xe9ussie","success")}catch(a){console.error("Erreur lors de l'ajout de l'\xe9l\xe9ment :",a)}}}),(0,l.jsx)(u,{currentPage:b,totalPages:g,onPrevious:k,onNext:f})]})}}}]);
//# sourceMappingURL=62.56a0e51e.chunk.js.map