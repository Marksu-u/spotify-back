"use strict";(self.webpackChunkspotify_back=self.webpackChunkspotify_back||[]).push([[828],{828:(e,a,s)=>{s.r(a),s.d(a,{default:()=>h});var i=s(791),t=s(183),r=s(907),c=s(144),d=s(943),n=s(184);const l=(0,i.lazy)((()=>Promise.resolve().then(s.bind(s,321)))),o=(0,i.lazy)((()=>s.e(54).then(s.bind(s,54)))),u=e=>{let{type:a,data:s,onClick:u,onRefresh:h}=e;const[m,j]=(0,i.useState)(!1),[x,p]=(0,i.useState)(null),[v,w]=(0,i.useState)(null),b=()=>{j(!0),p(s),w("update")},g=()=>{j(!0),p(s),w("delete")};return(0,n.jsxs)("div",{className:"card",onClick:u,children:[(()=>{switch(a){case"artist":return(0,n.jsx)("div",{className:"card",children:(0,n.jsx)("div",{className:"card-content",children:(0,n.jsx)("div",{className:"card-details",children:s.title})})});case"song":return(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("div",{className:"card-image",children:(0,n.jsx)("img",{src:s.picture,alt:s.album})}),(0,n.jsxs)("div",{className:"card-content",children:[(0,n.jsx)("div",{className:"card-title",children:s.title}),(0,n.jsxs)("div",{className:"card-details",children:[(0,n.jsxs)("div",{children:[s.artist," - ",s.album]}),(0,n.jsx)("div",{children:s.releaseDate})]}),(0,n.jsx)("div",{className:"card-genre",children:(0,n.jsx)("div",{children:s.genre})})]})]});case"album":return(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("div",{className:"card-image",children:(0,n.jsx)("img",{src:s.picture,alt:s.title})}),(0,n.jsxs)("div",{className:"card-content",children:[(0,n.jsx)("div",{className:"card-title",children:s.title}),(0,n.jsx)("div",{className:"card-details",children:(0,n.jsxs)("div",{children:[s.artist," ",s.date]})}),(0,n.jsx)("div",{className:"card-genre",children:(0,n.jsxs)("div",{children:["Genre : ",s.genre]})})]})]});case"admin":return(0,n.jsx)("div",{className:"card",children:(0,n.jsxs)("div",{className:"card-content",children:[(0,n.jsx)("div",{className:"card-title",children:s.title}),(0,n.jsx)("div",{className:"card-details",children:(0,n.jsx)("div",{children:s.artist})})]})});default:return(0,n.jsx)("div",{children:"Donn\xe9es non disponibles"})}})(),(0,n.jsxs)("div",{className:"button-container",children:[(0,n.jsx)(l,{label:"Modifier",onClick:b}),(0,n.jsx)(l,{label:"Supprimer",onClick:g})]}),m&&(0,n.jsx)(o,{isOpen:m,onClose:()=>j(!1),data:x,onSubmit:async e=>{j(!1);try{"update"===v?await(async e=>{try{switch(a){case"song":await t.E.editAudio(e);const s=await t.E.getSingleAudio(e._id),i=await(0,d.qx)(s.audios[0],s,s.name);await(0,c.EU)(i);break;case"artist":await t.E.editArtist(e);const r=await t.E.getSingleArtist(e._id),n=await(0,d.H2)(r);await(0,c.ep)(n);break;case"album":await t.E.editAlbum(e);const l=await t.E.getSingleAlbum(e._id),o=await(0,d.TI)(l);await(0,c.Yj)(o);break;default:console.error("Unsupported type for update: ".concat(a))}r.B.notify("Mis \xe0 jour","success"),h()}catch(s){}})(e):"delete"===v?await(async e=>{try{switch(a){case"song":await(0,c.zP)(e._id),await t.E.deleteSong(e._id);break;case"album":await(0,c.mV)(e._id),await t.E.deleteAlbum(e._id);break;case"artist":await(0,c.vB)(e._id),await t.E.deleteArtist(e._id);break;default:console.error("Unsupported type for delete: ".concat(a))}r.B.notify("Supprim\xe9 !","success"),h()}catch(s){r.B.notify("Erreur","warning"),console.error("Erreur lors de la suppression de l'\xe9l\xe9ment :",s)}})(e):r.B.notify("Unauthorized Action","warning")}catch(s){console.error("Error processing ".concat(v,":"),s),r.B.notify("Error processing ".concat(v),"error")}},actionType:v,type:a})]})};u.defaultProps={onClick:()=>{},onRefresh:()=>{}};const h=u}}]);
//# sourceMappingURL=828.fbcb624a.chunk.js.map