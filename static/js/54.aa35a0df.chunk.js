"use strict";(self.webpackChunkspotify_back=self.webpackChunkspotify_back||[]).push([[54],{54:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var n=a(791),l=a(183),s=a(184);const i=(0,n.lazy)((()=>Promise.resolve().then(a.bind(a,437)))),r=(0,n.lazy)((()=>Promise.resolve().then(a.bind(a,321)))),o=(0,n.lazy)((()=>a.e(457).then(a.bind(a,457)))),c=e=>{let{isOpen:t,onClose:a,data:c,onSubmit:u,type:m,actionType:d}=e;const[h,b]=(0,n.useState)(c),[g,p]=(0,n.useState)([]),[j,x]=(0,n.useState)([]);(0,n.useEffect)((()=>{b(c)}),[c]),(0,n.useEffect)((()=>{(async()=>{try{const e=(await l.E.getArtists()).map((e=>({id:e._id,title:e.name})));p(e)}catch(e){console.error(e)}})(),(async()=>{try{const e=(await l.E.getAlbums()).map((e=>({id:e._id,title:e.title})));x(e)}catch(e){console.error(e)}})()}),[]);const v=e=>{const{name:t,value:a}=e.target;b((e=>({...e,[t]:a})))};return t?(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)("div",{children:"Chargement des audios..."}),children:(0,s.jsx)("div",{className:"modal-backdrop",children:(0,s.jsx)("div",{className:"modal-content",children:(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),console.log("Soumission du formulaire avec les donn\xe9es :",h),u(h,d,m).then((()=>{a()})).catch((e=>{console.error("Erreur lors de la soumission :",e)}))},children:[(()=>{switch(m){case"artist":return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i,{label:"Artist Name",name:"title",value:h.title||"",onChange:v})});case"album":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i,{label:"Album Title",name:"title",value:h.title||"",onChange:v}),(0,s.jsx)(o,{label:"Artist",name:"artistId",options:g,value:h.artistId||"",onChange:v}),(0,s.jsx)(i,{label:"Genre",name:"genre",value:h.genre||"",onChange:v})]});case"song":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i,{label:"Song Title",name:"title",value:h.title||"",onChange:v}),(0,s.jsx)(o,{label:"Artist",name:"artistId",options:g,value:h.artistId||"",onChange:v}),(0,s.jsx)(o,{label:"Album",name:"albumId",options:j,value:h.albumId||"",onChange:v})]});case"admin":return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i,{type:"email",label:"Admin email",name:"email",value:h.artist||"",onChange:v})});default:return(0,s.jsx)("p",{children:"Unknown type"})}})(),(0,s.jsx)(r,{type:"submit",label:"Valider"}),(0,s.jsx)(r,{type:"button",label:"Annuler",onClick:a})]})})})}):null},u=(0,n.memo)(c)}}]);
//# sourceMappingURL=54.aa35a0df.chunk.js.map