"use strict";(self.webpackChunkspotify_back=self.webpackChunkspotify_back||[]).push([[54],{54:(e,a,t)=>{t.r(a),t.d(a,{default:()=>m});var n=t(791),l=t(144),s=t(835),r=t(184);const i=(0,n.lazy)((()=>Promise.resolve().then(t.bind(t,437)))),o=(0,n.lazy)((()=>Promise.resolve().then(t.bind(t,321)))),c=(0,n.lazy)((()=>t.e(457).then(t.bind(t,457)))),u=(0,n.lazy)((()=>t.e(938).then(t.bind(t,938)))),d=e=>{let{isOpen:a,onClose:t,data:d,onSubmit:m,type:p,actionType:b}=e;const[h,g]=(0,n.useState)("add"===b?{}:d),[j,x]=(0,n.useState)([]),[v,f]=(0,n.useState)([]);(0,n.useEffect)((()=>{if("delete"!==b){const e=async()=>{try{let e=await(0,l.rU)();f(e)}catch(e){console.error(e)}};(async()=>{try{let e=await(0,l.fC)();x(e)}catch(e){console.error(e)}})(),e(),g(d)}}),[d,b]);const y=e=>{const{name:a,value:t}=e.target;g((e=>({...e,[a]:t})))},C=e=>{const{name:a,files:t}=e.target;t&&t[0]?g((e=>({...e,[a]:t[0]}))):g((e=>({...e,[a]:null})))};return a?(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)(s.Z,{}),children:(0,r.jsx)("div",{className:"modal-backdrop",children:(0,r.jsx)("div",{className:"modal-content",children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),m(h)},children:[(()=>{if("delete"===b)return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("p",{children:"\xcates-vous s\xfbr de vouloir supprimer cet \xe9l\xe9ment ?"})});switch(console.log(h),p){case"artist":return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i,{label:"Artist Name",name:"title",value:h.title||"",onChange:y})});case"album":return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i,{label:"Titre",name:"title",value:h.title||"",onChange:y}),(0,r.jsx)(c,{label:"Artiste",name:"artistId",options:j,value:h.artistId||"",onChange:e=>{g((a=>({...a,artistId:e})))}}),(0,r.jsx)(i,{type:"file",label:"Couverture",name:"picture",onChange:C,accept:"image/png, image/jpeg"}),(0,r.jsx)(u,{label:"Ann\xe9e de sortie",name:"releaseYear",value:h.releaseDate instanceof Date?h.releaseDate:new Date(h.releaseDate),onChange:e=>{g({...h,releaseDate:e})},startYear:1900,endYear:(new Date).getFullYear()}),(0,r.jsx)(i,{label:"Genre",name:"genre",value:h.genre||"",onChange:y})]});case"song":return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i,{label:"Song Title",name:"title",value:h.title||"",onChange:y}),(0,r.jsx)(c,{label:"Album",name:"albumId",options:v,value:h.albumId||"",onChange:e=>{g((a=>({...a,albumId:e})))}}),"add"===b&&(0,r.jsx)(i,{type:"file",label:"Audio",name:"audio",onChange:C,accept:".mp3, .wav, .ogg, .m4a"})]});case"admin":return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i,{type:"email",label:"Email",name:"artist",value:h.artist||"",onChange:y}),(0,r.jsx)(i,{type:"text",label:"Identifiant",name:"title",value:h.title||"",onChange:y}),(0,r.jsx)(i,{type:"password",label:"Confirmer votre mot de passe",name:"password",value:h.password||"",onChange:y,required:!0})]});default:return(0,r.jsx)("p",{children:"Action impossible"})}})(),(0,r.jsx)(o,{type:"submit",label:"Valider"}),(0,r.jsx)(o,{type:"button",label:"Annuler",onClick:t})]})})})}):null},m=(0,n.memo)(d)}}]);
//# sourceMappingURL=54.ef643f2b.chunk.js.map