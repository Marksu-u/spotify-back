"use strict";(self.webpackChunkspotify_back=self.webpackChunkspotify_back||[]).push([[828],{828:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o});var t=a(791),i=a(183),d=a(907),c=a(184);const l=(0,t.lazy)((()=>Promise.resolve().then(a.bind(a,321)))),n=(0,t.lazy)((()=>a.e(54).then(a.bind(a,54)))),r=e=>{let{type:s,data:a,onClick:r}=e;const[o,m]=(0,t.useState)(!1),[u,h]=(0,t.useState)(null),[j,x]=(0,t.useState)(null),v=()=>{m(!0),h(a),x("update")},N=()=>{g("delete",a)},g=async(e,a)=>{const t={delete:{artist:"deleteArtist",song:"deleteAudio",album:"deleteAlbum",admin:"deleteAdmin"},update:{artist:"editArtist",song:"editAudio",album:"editAlbum",admin:"editAdmin"}};try{const c="delete"===e?a.id:a;console.log("".concat("delete"===e?"Delete":"Edit",": "),c),await(async(s,a)=>{const d=t[e][s];if(!d)throw new Error("Unknown type for ".concat(e));return await i.E[d](a)})(s,c),d.B.notify("".concat("delete"===e?"Item deleted":"Enregistr\xe9!"," successfully"),"success"),"delete"!==e&&m(!1)}catch(c){console.error("Error ".concat("delete"===e?"deleting":"updating"," item:"),c),d.B.notify("Error ".concat("delete"===e?"deleting":"updating"," item"),"error")}};return(0,c.jsxs)("div",{className:"card",onClick:r,children:[(()=>{switch(s){case"artist":return(0,c.jsx)("div",{className:"card",children:(0,c.jsx)("div",{className:"card-content",children:(0,c.jsx)("div",{className:"card-details",children:a.title})})});case"song":return(0,c.jsxs)("div",{className:"card",children:[(0,c.jsx)("div",{className:"card-image",children:(0,c.jsx)("img",{src:a.image,alt:a.album})}),(0,c.jsxs)("div",{className:"card-content",children:[(0,c.jsx)("div",{className:"card-title",children:a.title}),(0,c.jsxs)("div",{className:"card-details",children:[(0,c.jsxs)("div",{children:[a.artist," - ",a.album]}),(0,c.jsx)("div",{children:a.date})]}),(0,c.jsx)("div",{className:"card-genre",children:(0,c.jsx)("div",{children:a.genre})})]})]});case"album":return(0,c.jsxs)("div",{className:"card",children:[(0,c.jsx)("div",{className:"card-image",children:(0,c.jsx)("img",{src:a.image,alt:a.title})}),(0,c.jsxs)("div",{className:"card-content",children:[(0,c.jsx)("div",{className:"card-title",children:a.title}),(0,c.jsx)("div",{className:"card-details",children:(0,c.jsxs)("div",{children:[a.artist," ",a.date]})}),(0,c.jsx)("div",{className:"card-genre",children:(0,c.jsxs)("div",{children:["Genre : ",a.genre]})})]})]});case"admin":return(0,c.jsx)("div",{className:"card",children:(0,c.jsxs)("div",{className:"card-content",children:[(0,c.jsx)("div",{className:"card-title",children:a.title}),(0,c.jsx)("div",{className:"card-details",children:(0,c.jsx)("div",{children:a.artist})})]})});default:return(0,c.jsx)("div",{children:"Donn\xe9es non disponibles"})}})(),(0,c.jsxs)("div",{className:"button-container",children:[(0,c.jsx)(l,{label:"Modifier",onClick:v}),(0,c.jsx)(l,{label:"Supprimer",onClick:N})]}),o&&(0,c.jsx)(n,{isOpen:o,onClose:()=>m(!1),data:u,onSubmit:e=>{g(j,{...a,...e})},actionType:j,type:s})]})};r.defaultProps={onClick:()=>{}};const o=r}}]);
//# sourceMappingURL=828.9fd779b9.chunk.js.map