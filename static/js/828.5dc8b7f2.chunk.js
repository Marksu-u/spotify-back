"use strict";(self.webpackChunkspotify_back=self.webpackChunkspotify_back||[]).push([[828],{828:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var a=t(791),i=t(183),d=t(907),c=t(184);const l=(0,a.lazy)((()=>Promise.resolve().then(t.bind(t,321)))),r=(0,a.lazy)((()=>t.e(54).then(t.bind(t,54)))),n=e=>{let{type:s,data:t,onClick:n}=e;const[o,m]=(0,a.useState)(!1),[u,h]=(0,a.useState)(null),[j,x]=(0,a.useState)(null),v=()=>{m(!0),h(t),x("update")},N=()=>{p("delete",t)},p=async(e,t)=>{const a={delete:{artist:"deleteArtist",song:"deleteAudio",album:"deleteAlbum",admin:"deleteAdmin"},update:{artist:"editArtist",song:"editAudio",album:"editAlbum",admin:"editAdmin"}};try{const c="delete"===e?t.id:t;console.log("".concat("delete"===e?"Delete":"Edit",": "),c),await(async(s,t)=>{const d=a[e][s];if(!d)throw new Error("Unknown type for ".concat(e));return await i.E[d](t)})(s,c),d.B.notify("".concat("delete"===e?"Item deleted":"Enregistr\xe9!"," successfully"),"success"),"delete"!==e&&m(!1)}catch(c){console.error("Error ".concat("delete"===e?"deleting":"updating"," item:"),c),d.B.notify("Error ".concat("delete"===e?"deleting":"updating"," item"),"error")}};return(0,c.jsxs)("div",{className:"card",onClick:n,children:[(()=>{switch(s){case"artist":return(0,c.jsx)("div",{className:"card",children:(0,c.jsx)("div",{className:"card-content",children:(0,c.jsx)("div",{className:"card-details",children:t.title})})});case"song":return(0,c.jsxs)("div",{className:"card",children:[(0,c.jsx)("div",{className:"card-image",children:(0,c.jsx)("img",{src:t.picture,alt:t.album})}),(0,c.jsxs)("div",{className:"card-content",children:[(0,c.jsx)("div",{className:"card-title",children:t.title}),(0,c.jsxs)("div",{className:"card-details",children:[(0,c.jsxs)("div",{children:[t.artist," - ",t.album]}),(0,c.jsx)("div",{children:t.releaseDate})]}),(0,c.jsx)("div",{className:"card-genre",children:(0,c.jsx)("div",{children:t.genre})})]})]});case"album":return(0,c.jsxs)("div",{className:"card",children:[(0,c.jsx)("div",{className:"card-image",children:(0,c.jsx)("img",{src:t.picture,alt:t.title})}),(0,c.jsxs)("div",{className:"card-content",children:[(0,c.jsx)("div",{className:"card-title",children:t.title}),(0,c.jsx)("div",{className:"card-details",children:(0,c.jsxs)("div",{children:[t.artist," ",t.date]})}),(0,c.jsx)("div",{className:"card-genre",children:(0,c.jsxs)("div",{children:["Genre : ",t.genre]})})]})]});case"admin":return(0,c.jsx)("div",{className:"card",children:(0,c.jsxs)("div",{className:"card-content",children:[(0,c.jsx)("div",{className:"card-title",children:t.title}),(0,c.jsx)("div",{className:"card-details",children:(0,c.jsx)("div",{children:t.artist})})]})});default:return(0,c.jsx)("div",{children:"Donn\xe9es non disponibles"})}})(),(0,c.jsxs)("div",{className:"button-container",children:[(0,c.jsx)(l,{label:"Modifier",onClick:v}),(0,c.jsx)(l,{label:"Supprimer",onClick:N})]}),o&&(0,c.jsx)(r,{isOpen:o,onClose:()=>m(!1),data:u,onSubmit:e=>{p(j,{...t,...e})},actionType:j,type:s})]})};n.defaultProps={onClick:()=>{}};const o=n}}]);
//# sourceMappingURL=828.5dc8b7f2.chunk.js.map