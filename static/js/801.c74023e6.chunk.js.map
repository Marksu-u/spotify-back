{"version":3,"file":"static/js/801.c74023e6.chunk.js","mappings":"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","sources":["components/Loader/index.js","services/apiService.js","views/AlbumDashboardView.js"],"sourcesContent":["import React from 'react';\nimport './index.css';\n\nconst Loader = () => (\n  <div className=\"loader-container\">\n    <div className=\"loader\"></div>\n  </div>\n);\n\nexport default Loader;\n","const API_URL = process.env.REACT_APP_API_URL;\n\n/* ------------- AUDIO ------------- */\nconst getAudios = async () => {\n  const response = await fetch(`${API_URL}audio`);\n  if (!response.ok) throw new Error('Erreur lors du chargement des audios');\n  return await response.json();\n};\n\nconst getSingleAudio = async (id) => {\n  const response = await fetch(`${API_URL}audio/${id}`);\n  if (!response.ok)\n    throw new Error('Erreur lors de la récupération de l’audio');\n  return await response.json();\n};\n\nconst editAudio = async (id, audioData) => {\n  const response = await fetch(`${API_URL}audio/${id}`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(audioData),\n  });\n  if (!response.ok)\n    throw new Error('Erreur lors de la modification de l’audio');\n  return await response.json();\n};\n\nconst uploadAudio = async (audioFile) => {\n  const formData = new FormData();\n  formData.append('audioFile', audioFile);\n\n  const response = await fetch(`${API_URL}audio/upload`, {\n    method: 'POST',\n    body: formData,\n  });\n  if (!response.ok) throw new Error('Erreur lors de l’upload de l’audio');\n  return await response.json();\n};\n\nconst deleteAudio = async (id) => {\n  const response = await fetch(`${API_URL}audio/${id}`, {\n    method: 'DELETE',\n  });\n  if (!response.ok) throw new Error('Erreur lors de la suppression de l’audio');\n  return await response.json();\n};\n\nconst streamAudio = async (id) => {\n  const response = await fetch(`${API_URL}audio/stream/${id}`);\n  if (!response.ok) throw new Error('Erreur lors du streaming de l’audio');\n  return await response.json();\n};\n\nconst getStreamingCount = async (id) => {\n  const response = await fetch(`${API_URL}audio/streamed/${id}`);\n  if (!response.ok)\n    throw new Error('Erreur lors de la récupération du nombre de stream');\n  return await response.json();\n};\n\n/* ------------- ARTIST ------------- */\nconst getArtists = async () => {\n  const response = await fetch(`${API_URL}artist/`);\n  if (!response.ok) throw new Error('Erreur lors du chargement des artistes');\n  return await response.json();\n};\n\nconst getSingleArtist = async (id) => {\n  const response = await fetch(`${API_URL}artist/${id}`);\n  if (!response.ok)\n    throw new Error('Erreur lors de la récupération de l’artiste');\n  return await response.json();\n};\n\nconst editArtist = async (id, artistData) => {\n  const response = await fetch(`${API_URL}artist/${id}`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(artistData),\n  });\n  if (!response.ok)\n    throw new Error('Erreur lors de la modification de l’artiste');\n  return await response.json();\n};\n\nconst createArtist = async (artistData) => {\n  const response = await fetch(`${API_URL}artist`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(artistData),\n  });\n  if (!response.ok) throw new Error('Erreur lors de la création de l’artiste');\n  return await response.json();\n};\n\nconst deleteArtist = async (id) => {\n  const response = await fetch(`${API_URL}artist/${id}`, {\n    method: 'DELETE',\n  });\n  if (!response.ok)\n    throw new Error('Erreur lors de la suppression de l’artiste');\n  return await response.json();\n};\n\n/* ------------- ALBUM ------------- */\nconst getAlbums = async () => {\n  const response = await fetch(`${API_URL}album`);\n  if (!response.ok) throw new Error('Erreur lors du chargement des albums');\n  return await response.json();\n};\n\nconst getSingleAlbum = async (id) => {\n  const response = await fetch(`${API_URL}album/${id}`);\n  if (!response.ok)\n    throw new Error('Erreur lors de la récupération de l’album');\n  return await response.json();\n};\n\nconst createAlbum = async (albumData) => {\n  const response = await fetch(`${API_URL}album`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(albumData),\n  });\n  if (!response.ok) throw new Error('Erreur lors de la création de l’album');\n  return await response.json();\n};\n\nconst editAlbum = async (id, albumData) => {\n  console.log(albumData);\n  const response = await fetch(`${API_URL}album/${id}`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(albumData),\n  });\n  if (!response.ok)\n    throw new Error('Erreur lors de la modification de l’album');\n  return await response.json();\n};\n\nconst deleteAlbum = async (id) => {\n  const response = await fetch(`${API_URL}album/${id}`, {\n    method: 'DELETE',\n  });\n  if (!response.ok) throw new Error('Erreur lors de la suppression de l’album');\n  return await response.json();\n};\n\n/* ------------- ADMIN ------------- */\nconst getAdmins = async () => {\n  const token = localStorage.getItem('userToken');\n  const response = await fetch(`${API_URL}admin/`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n  if (!response.ok)\n    throw new Error(\n      'Erreur lors de la récupération des données des administrateurs'\n    );\n  return await response.json();\n};\n\nconst getSingleAdmin = async (id) => {\n  const token = localStorage.getItem('userToken');\n  const response = await fetch(`${API_URL}admin/${id}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n  if (!response.ok)\n    throw new Error(\n      'Erreur lors de la récupération des données de l’administrateur'\n    );\n  return await response.json();\n};\n\nconst addAdmin = async (adminData) => {\n  const token = localStorage.getItem('userToken');\n  const response = await fetch(`${API_URL}admin`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify(adminData),\n  });\n  if (!response.ok)\n    throw new Error('Erreur lors de l’ajout de l’administrateur');\n  return await response.json();\n};\n\nconst editAdmin = async (id, adminData) => {\n  const token = localStorage.getItem('userToken');\n  const response = await fetch(`${API_URL}admin/${id}`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify(adminData),\n  });\n  if (!response.ok)\n    throw new Error('Erreur lors de la mise à jour de l’administrateur');\n  return await response.json();\n};\n\nconst deleteAdmin = async (id) => {\n  const token = localStorage.getItem('userToken');\n  const response = await fetch(`${API_URL}admin/${id}`, {\n    method: 'DELETE',\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n  if (!response.ok)\n    throw new Error('Erreur lors de la suppression de l’administrateur');\n  return await response.json();\n};\n\nexport const apiService = {\n  /* ------------- AUDIO ------------- */\n  getAudios,\n  getSingleAudio,\n  editAudio,\n  uploadAudio,\n  deleteAudio,\n  streamAudio,\n  getStreamingCount,\n  /* ------------- ARTIST ------------- */\n  getArtists,\n  getSingleArtist,\n  editArtist,\n  createArtist,\n  deleteArtist,\n  /* ------------- ALBUM ------------- */\n  getAlbums,\n  getSingleAlbum,\n  editAlbum,\n  createAlbum,\n  deleteAlbum,\n  /* ------------- ADMIN ------------- */\n  getAdmins,\n  getSingleAdmin,\n  addAdmin,\n  editAdmin,\n  deleteAdmin,\n};\n","import React, { useState, useEffect, lazy } from 'react';\nimport notFound from '../assets/404.png';\nimport { notificationService } from '../services/notificationService';\nimport { apiService } from '../services/apiService';\nimport './index.css';\n\nimport Loader from '../components/Loader';\nconst CardList = lazy(() => import('../components/CardList'));\n\nconst AlbumDashboardView = () => {\n  const [albums, setAlbums] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchAlbums = async () => {\n      try {\n        setIsLoading(true);\n        const fetchedAlbums = await apiService.getAlbums();\n        const transformedAlbums = fetchedAlbums.map((album) => {\n          return {\n            id: album._id,\n            title: album.title,\n            artist: album.artist.name,\n            artistId: album.artist._id,\n            date: album.releaseDate,\n            genre: album.genre.join(', '),\n            image: convertBufferToImageUrl(album.picture[0]),\n          };\n        });\n        setAlbums(transformedAlbums);\n      } catch (error) {\n        console.error(error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchAlbums();\n    notificationService.notify('Albums chargés avec succès', 'success');\n  }, []);\n\n  const convertBufferToImageUrl = (picture) => {\n    if (picture && picture.data && picture.data.data) {\n      const buffer = new Uint8Array(picture.data.data);\n      const blob = new Blob([buffer], { type: picture.format });\n      return URL.createObjectURL(blob);\n    }\n    return notFound;\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"dashboard-list-view\">\n        <h2>Albums Dashboard</h2>\n        <Loader />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"dashboard-list-view\">\n      <h2>Albums Dashboard</h2>\n      <CardList items={albums} type=\"album\" />\n    </div>\n  );\n};\n\nexport default AlbumDashboardView;\n"],"names":["Loader","_jsx","className","children","API_URL","process","apiService","getAudios","async","response","fetch","concat","ok","Error","json","getSingleAudio","id","editAudio","audioData","method","headers","body","JSON","stringify","uploadAudio","formData","FormData","append","audioFile","deleteAudio","streamAudio","getStreamingCount","getArtists","getSingleArtist","editArtist","artistData","createArtist","deleteArtist","getAlbums","getSingleAlbum","editAlbum","albumData","console","log","createAlbum","deleteAlbum","getAdmins","token","localStorage","getItem","Authorization","getSingleAdmin","addAdmin","adminData","editAdmin","deleteAdmin","CardList","lazy","AlbumDashboardView","albums","setAlbums","useState","isLoading","setIsLoading","useEffect","transformedAlbums","map","album","_id","title","artist","name","artistId","date","releaseDate","genre","join","image","convertBufferToImageUrl","picture","error","fetchAlbums","notificationService","notify","data","buffer","Uint8Array","blob","Blob","type","format","URL","createObjectURL","_jsxs","items"],"sourceRoot":""}