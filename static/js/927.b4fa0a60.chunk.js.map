{"version":3,"file":"static/js/927.b4fa0a60.chunk.js","mappings":"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","sources":["components/CardList/index.js","services/indexerDBService.js"],"sourcesContent":["import React, { useState, useMemo, lazy, Suspense } from 'react';\nimport { notificationService } from '../../services/notificationService';\nimport { apiService } from '../../services/apiService';\nimport { addAlbum, addArtist, addAudio } from '../../services/indexerDBService';\nimport {\n  transformAlbums,\n  transformAudio,\n  transformArtist,\n} from '../../services/transformService';\nimport PropTypes from 'prop-types';\n\nimport Loader from '../Loader';\nconst Card = lazy(() => import('../Card'));\nconst CardAdd = lazy(() => import('../CardAdd'));\nconst PageControls = lazy(() => import('../PageControls'));\nconst Search = lazy(() => import('../Search'));\n\nconst ITEMS_PER_PAGE = 4;\n\nconst CardList = ({ items, type, onRefresh }) => {\n  const [currentPage, setCurrentPage] = useState(1);\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const filteredItems = useMemo(() => {\n    return items.filter((item) => {\n      const titleMatch = item.title\n        ? item.title.toLowerCase().includes(searchQuery.toLowerCase())\n        : false;\n      const artistMatch = item.artist\n        ? item.artist.toLowerCase().includes(searchQuery.toLowerCase())\n        : false;\n      return titleMatch || artistMatch;\n    });\n  }, [items, searchQuery]);\n\n  const totalPages = Math.ceil(filteredItems.length / ITEMS_PER_PAGE);\n  const currentItems = useMemo(() => {\n    const start = (currentPage - 1) * ITEMS_PER_PAGE;\n    return filteredItems.slice(start, start + ITEMS_PER_PAGE);\n  }, [currentPage, filteredItems]);\n\n  const renderListItems = useMemo(\n    () => (\n      <Suspense fallback={<Loader />}>\n        {currentItems.map((item) => (\n          <Card key={item._id} data={item} type={type} onRefresh={onRefresh} />\n        ))}\n      </Suspense>\n    ),\n    [currentItems, type]\n  );\n\n  const goToPreviousPage = () =>\n    setCurrentPage((page) => Math.max(page - 1, 1));\n  const goToNextPage = () =>\n    setCurrentPage((page) => Math.min(page + 1, totalPages));\n\n  const handleSearchChange = (query) => {\n    setSearchQuery(query);\n    setCurrentPage(1);\n  };\n\n  const handleAddItem = async (newData, type) => {\n    try {\n      switch (type) {\n        case 'artist':\n          await apiService.createArtist(newData);\n          const newArtist = await apiService.getLastArtist();\n          const artistToAdd = await transformArtist(newArtist);\n          await addArtist(artistToAdd);\n          break;\n        case 'song':\n          await apiService.uploadAudio(newData);\n          const newAudio = await apiService.getLastAudio();\n          const audioToAdd = await transformAudio(\n            newAudio.audios[0],\n            newAudio,\n            newAudio.name\n          );\n          await addAudio(audioToAdd);\n          break;\n        case 'album':\n          await apiService.createAlbum(newData);\n          const newAlbum = await apiService.getLastAlbum();\n          const albumToAdd = await transformAlbums(newAlbum);\n          await addAlbum(albumToAdd);\n          break;\n        case 'admin':\n          await apiService.addAdmin(newData);\n          break;\n        default:\n          console.error(`Unsupported type for add: ${type}`);\n      }\n      notificationService.notify('Ajout réussie', 'success');\n      onRefresh();\n    } catch (error) {\n      notificationService.notify('Erreur', 'warning');\n      console.error(\"Erreur lors de l'ajout de l'élément :\", error);\n    }\n  };\n\n  return (\n    <div>\n      <div>\n        <Search onSearchChange={handleSearchChange} />\n      </div>\n      <PageControls\n        currentPage={currentPage}\n        totalPages={totalPages}\n        onPrevious={goToPreviousPage}\n        onNext={goToNextPage}\n      />\n      {renderListItems}\n      <CardAdd type={type} onAdd={handleAddItem} />\n      <PageControls\n        currentPage={currentPage}\n        totalPages={totalPages}\n        onPrevious={goToPreviousPage}\n        onNext={goToNextPage}\n      />\n    </div>\n  );\n};\n\nCardList.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.object).isRequired,\n  type: PropTypes.oneOf(['artist', 'song', 'album', 'admin']).isRequired,\n};\n\nexport default CardList;\n","const openDatabase = () => {\n  return new Promise((resolve, reject) => {\n    const request = indexedDB.open('mk-bospot', 1);\n\n    request.onupgradeneeded = (event) => {\n      const db = event.target.result;\n      db.createObjectStore('audios', { keyPath: '_id' });\n      db.createObjectStore('artists', { keyPath: '_id' });\n      db.createObjectStore('albums', { keyPath: '_id' });\n    };\n\n    request.onerror = (event) => {\n      reject(`Database error: ${event.target.errorCode}`);\n    };\n\n    request.onsuccess = (event) => {\n      resolve(event.target.result);\n    };\n  });\n};\n\nexport const saveAudios = async (audios) => {\n  const db = await openDatabase();\n  const transaction = db.transaction('audios', 'readwrite');\n  const store = transaction.objectStore('audios');\n\n  for (let audio of audios) {\n    store.put(audio);\n  }\n};\n\nexport const getAudios = async () => {\n  const db = await openDatabase();\n  const transaction = db.transaction('audios', 'readonly');\n  const store = transaction.objectStore('audios');\n\n  return new Promise((resolve, reject) => {\n    const request = store.getAll();\n\n    request.onerror = () => {\n      reject('Failed to retrieve data from database.');\n    };\n\n    request.onsuccess = () => {\n      resolve(request.result);\n    };\n  });\n};\n\nexport const addAudio = async (audio) => {\n  try {\n    const db = await openDatabase();\n    const transaction = db.transaction('audios', 'readwrite');\n    const store = transaction.objectStore('audios');\n\n    return new Promise((resolve, reject) => {\n      const request = store.add(audio);\n      request.onsuccess = () => resolve(request.result);\n      request.onerror = () => reject(request.error);\n      transaction.oncomplete = () => console.log('Transaction completed.');\n      transaction.onerror = () => reject(transaction.error);\n    });\n  } catch (error) {\n    console.error('Error adding audio:', error);\n    throw error;\n  }\n};\n\nexport const deleteAudio = async (audio) => {\n  const db = await openDatabase();\n  const transaction = db.transaction('audios', 'readwrite');\n  const store = transaction.objectStore('audios');\n  store.delete(audio);\n};\n\nexport const updateAudio = async (audio) => {\n  try {\n    const db = await openDatabase();\n    const transaction = db.transaction('audios', 'readwrite');\n    const store = transaction.objectStore('audios');\n\n    return new Promise((resolve, reject) => {\n      const request = store.put(audio);\n\n      request.onsuccess = () => {\n        console.log('Audio updated successfully.');\n        resolve(request.result);\n      };\n      request.onerror = () => {\n        console.error('Error updating Audio:', request.error);\n        reject(request.error);\n      };\n\n      transaction.oncomplete = () =>\n        console.log('Transaction for updating Audio completed.');\n      transaction.onerror = () => {\n        console.error('Transaction error:', transaction.error);\n        reject(transaction.error);\n      };\n    });\n  } catch (error) {\n    console.error('Error updating Audio:', error);\n    throw error;\n  }\n};\n\nexport const saveArtists = async (artists) => {\n  const db = await openDatabase();\n  const transaction = db.transaction('artists', 'readwrite');\n  const store = transaction.objectStore('artists');\n\n  for (let artist of artists) {\n    store.put(artist);\n  }\n};\n\nexport const getArtists = async () => {\n  const db = await openDatabase();\n  const transaction = db.transaction('artists', 'readonly');\n  const store = transaction.objectStore('artists');\n\n  return new Promise((resolve, reject) => {\n    const request = store.getAll();\n\n    request.onerror = () => {\n      reject('Failed to retrieve data from database.');\n    };\n\n    request.onsuccess = () => {\n      resolve(request.result);\n    };\n  });\n};\n\nexport const addArtist = async (artist) => {\n  const db = await openDatabase();\n  const transaction = db.transaction('artists', 'readwrite');\n  const store = transaction.objectStore('artists');\n  store.add(artist);\n};\n\nexport const deleteArtist = async (artist) => {\n  const db = await openDatabase();\n  const transaction = db.transaction('artists', 'readwrite');\n  const store = transaction.objectStore('artists');\n  store.delete(artist);\n};\n\nexport const updateArtist = async (artist) => {\n  try {\n    const db = await openDatabase();\n    const transaction = db.transaction('artists', 'readwrite');\n    const store = transaction.objectStore('artists');\n\n    return new Promise((resolve, reject) => {\n      const request = store.put(artist);\n\n      request.onsuccess = () => {\n        console.log('Artist updated successfully.');\n        resolve(request.result);\n      };\n      request.onerror = () => {\n        console.error('Error updating Artist:', request.error);\n        reject(request.error);\n      };\n\n      transaction.oncomplete = () =>\n        console.log('Transaction for updating Artist completed.');\n      transaction.onerror = () => {\n        console.error('Transaction error:', transaction.error);\n        reject(transaction.error);\n      };\n    });\n  } catch (error) {\n    console.error('Error updating Artist:', error);\n    throw error;\n  }\n};\n\nexport const saveAlbums = async (albums) => {\n  const db = await openDatabase();\n  const transaction = db.transaction('albums', 'readwrite');\n  const store = transaction.objectStore('albums');\n\n  for (let album of albums) {\n    store.put(album);\n  }\n};\n\nexport const getAlbums = async () => {\n  const db = await openDatabase();\n  const transaction = db.transaction('albums', 'readonly');\n  const store = transaction.objectStore('albums');\n\n  return new Promise((resolve, reject) => {\n    const request = store.getAll();\n\n    request.onerror = () => {\n      reject('Failed to retrieve data from database.');\n    };\n\n    request.onsuccess = () => {\n      resolve(request.result);\n    };\n  });\n};\n\nexport const addAlbum = async (album) => {\n  try {\n    const db = await openDatabase();\n    const transaction = db.transaction('albums', 'readwrite');\n    const store = transaction.objectStore('albums');\n\n    return new Promise((resolve, reject) => {\n      const request = store.add(album);\n\n      request.onsuccess = () => resolve(request.result);\n      request.onerror = () => reject(request.error);\n      transaction.oncomplete = () =>\n        console.log('Transaction for adding album completed.');\n\n      transaction.onerror = () => reject(transaction.error);\n    });\n  } catch (error) {\n    console.error('Error adding album:', error);\n    throw error;\n  }\n};\n\nexport const deleteAlbum = async (album) => {\n  const db = await openDatabase();\n  const transaction = db.transaction('albums', 'readwrite');\n  const store = transaction.objectStore('albums');\n  store.delete(album);\n};\n\nexport const updateAlbum = async (album) => {\n  try {\n    const db = await openDatabase();\n    const transaction = db.transaction('albums', 'readwrite');\n    const store = transaction.objectStore('albums');\n\n    return new Promise((resolve, reject) => {\n      const request = store.put(album);\n\n      request.onsuccess = () => {\n        console.log('Album updated successfully.');\n        resolve(request.result);\n      };\n      request.onerror = () => {\n        console.error('Error updating album:', request.error);\n        reject(request.error);\n      };\n\n      transaction.oncomplete = () =>\n        console.log('Transaction for updating album completed.');\n      transaction.onerror = () => {\n        console.error('Transaction error:', transaction.error);\n        reject(transaction.error);\n      };\n    });\n  } catch (error) {\n    console.error('Error updating album:', error);\n    throw error;\n  }\n};\n"],"names":["Card","lazy","CardAdd","PageControls","Search","_ref","items","type","onRefresh","currentPage","setCurrentPage","useState","searchQuery","setSearchQuery","filteredItems","useMemo","filter","item","titleMatch","title","toLowerCase","includes","artistMatch","artist","totalPages","Math","ceil","length","currentItems","start","slice","renderListItems","_jsx","Suspense","fallback","Loader","children","map","data","_id","goToPreviousPage","page","max","goToNextPage","min","_jsxs","onSearchChange","query","onPrevious","onNext","onAdd","async","newData","apiService","createArtist","newArtist","getLastArtist","artistToAdd","transformArtist","addArtist","uploadAudio","newAudio","getLastAudio","audioToAdd","transformAudio","audios","name","addAudio","createAlbum","newAlbum","getLastAlbum","albumToAdd","transformAlbums","addAlbum","addAdmin","console","error","concat","notificationService","notify","openDatabase","Promise","resolve","reject","request","indexedDB","open","onupgradeneeded","event","db","target","result","createObjectStore","keyPath","onerror","errorCode","onsuccess","saveAudios","store","transaction","objectStore","audio","put","getAudios","getAll","add","oncomplete","log","deleteAudio","delete","updateAudio","saveArtists","artists","getArtists","deleteArtist","updateArtist","saveAlbums","album","albums","getAlbums","deleteAlbum","updateAlbum"],"sourceRoot":""}