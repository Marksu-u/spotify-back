"use strict";(self.webpackChunkspotify_back=self.webpackChunkspotify_back||[]).push([[62],{927:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var s=a(791),n=a(907),i=a(183),o=a(144),r=a(835),c=a(184);const l=(0,s.lazy)((()=>a.e(828).then(a.bind(a,828)))),d=(0,s.lazy)((()=>a.e(839).then(a.bind(a,839)))),u=(0,s.lazy)((()=>a.e(275).then(a.bind(a,275)))),h=(0,s.lazy)((()=>a.e(320).then(a.bind(a,320)))),b=e=>{let{items:t,type:a}=e;const[b,w]=(0,s.useState)(1),[m,x]=(0,s.useState)(""),y=(0,s.useMemo)((()=>t.filter((e=>{const t=!!e.title&&e.title.toLowerCase().includes(m.toLowerCase()),a=!!e.artist&&e.artist.toLowerCase().includes(m.toLowerCase());return t||a}))),[t,m]),j=Math.ceil(y.length/4),p=(0,s.useMemo)((()=>{const e=4*(b-1);return y.slice(e,e+4)}),[b,y]);console.log("ITEMS : ",p);const g=(0,s.useMemo)((()=>(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(r.Z,{}),children:p.map((e=>(0,c.jsx)(l,{data:e,type:a},e._id)))})),[p,a]),k=()=>w((e=>Math.max(e-1,1))),f=()=>w((e=>Math.min(e+1,j)));return(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{children:(0,c.jsx)(h,{onSearchChange:e=>{x(e),w(1)}})}),(0,c.jsx)(u,{currentPage:b,totalPages:j,onPrevious:k,onNext:f}),g,(0,c.jsx)(d,{type:a,onAdd:async(e,t)=>{try{switch(console.log("newData :",e),t){case"artist":await i.E.createArtist(e);const t=await i.E.getLastArtist(),a={id:t._id,name:t.title};delete a._id,await(0,o.xY)(a);break;case"song":await i.E.uploadAudio(e);break;case"album":await i.E.createAlbum(e);break;case"admin":await i.E.addAdmin(e)}n.B.notify("Ajout r\xe9ussie","success")}catch(a){console.error("Erreur lors de l'ajout de l'\xe9l\xe9ment :",a)}}}),(0,c.jsx)(u,{currentPage:b,totalPages:j,onPrevious:k,onNext:f})]})}}}]);
//# sourceMappingURL=62.e76b2660.chunk.js.map