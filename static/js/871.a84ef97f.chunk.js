"use strict";(self.webpackChunkspotify_back=self.webpackChunkspotify_back||[]).push([[871],{835:(t,r,a)=>{a.d(r,{Z:()=>o});a(791);var e=a(184);const o=()=>(0,e.jsx)("div",{className:"loader-container",children:(0,e.jsx)("div",{className:"loader"})})},183:(t,r,a)=>{a.d(r,{E:()=>o});const e="http://ec2-35-180-230-197.eu-west-3.compute.amazonaws.com:4000/api/",o={getAudios:async(t,r)=>{const a="".concat(e,"audio?page=").concat(t,"&limit=").concat(r),o=await fetch(a);if(!o.ok)throw new Error("Erreur lors du chargement des audios");return await o.json()},getSingleAudio:async t=>{const r=await fetch("".concat(e,"audio/").concat(t));if(!r.ok)throw new Error("Erreur lors de la r\xe9cup\xe9ration de l\u2019audio");return await r.json()},editAudio:async(t,r)=>{const a=await fetch("".concat(e,"audio/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok)throw new Error("Erreur lors de la modification de l\u2019audio");return await a.json()},uploadAudio:async t=>{const r=new FormData;r.append("audioFile",t);const a=await fetch("".concat(e,"audio/upload"),{method:"POST",body:r});if(!a.ok)throw new Error("Erreur lors de l\u2019upload de l\u2019audio");return await a.json()},deleteAudio:async t=>{const r=await fetch("".concat(e,"audio/").concat(t),{method:"DELETE"});if(!r.ok)throw new Error("Erreur lors de la suppression de l\u2019audio");return await r.json()},streamAudio:async t=>{const r=await fetch("".concat(e,"audio/stream/").concat(t));if(!r.ok)throw new Error("Erreur lors du streaming de l\u2019audio");return await r.json()},getStreamingCount:async t=>{const r=await fetch("".concat(e,"audio/streamed/").concat(t));if(!r.ok)throw new Error("Erreur lors de la r\xe9cup\xe9ration du nombre de stream");return await r.json()},getArtists:async(t,r)=>{const a=await fetch("".concat(e,"artist/?page=").concat(t,"&limit=").concat(r));if(!a.ok)throw new Error("Erreur lors du chargement des artistes");return await a.json()},getSingleArtist:async t=>{const r=await fetch("".concat(e,"artist/").concat(t));if(!r.ok)throw new Error("Erreur lors de la r\xe9cup\xe9ration de l\u2019artiste");return await r.json()},editArtist:async(t,r)=>{const a=await fetch("".concat(e,"artist/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok)throw new Error("Erreur lors de la modification de l\u2019artiste");return await a.json()},createArtist:async t=>{const r=await fetch("".concat(e,"artist"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("Erreur lors de la cr\xe9ation de l\u2019artiste");return await r.json()},deleteArtist:async t=>{const r=await fetch("".concat(e,"artist/").concat(t),{method:"DELETE"});if(!r.ok)throw new Error("Erreur lors de la suppression de l\u2019artiste");return await r.json()},getAlbums:async(t,r)=>{const a=await fetch("".concat(e,"album/?page=").concat(t,"&limit=").concat(r));if(!a.ok)throw new Error("Erreur lors du chargement des albums");return await a.json()},getSingleAlbum:async t=>{const r=await fetch("".concat(e,"album/").concat(t));if(!r.ok)throw new Error("Erreur lors de la r\xe9cup\xe9ration de l\u2019album");return await r.json()},editAlbum:async(t,r)=>{const a=await fetch("".concat(e,"album/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok)throw new Error("Erreur lors de la modification de l\u2019album");return await a.json()},createAlbum:async t=>{const r=await fetch("".concat(e,"album"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("Erreur lors de la cr\xe9ation de l\u2019album");return await r.json()},deleteAlbum:async t=>{const r=await fetch("".concat(e,"album/").concat(t),{method:"DELETE"});if(!r.ok)throw new Error("Erreur lors de la suppression de l\u2019album");return await r.json()},getAdmins:async(t,r)=>{const a=localStorage.getItem("userToken"),o=await fetch("".concat(e,"admin/?page=").concat(t,"&limit=").concat(r),{headers:{Authorization:"Bearer ".concat(a)}});if(!o.ok)throw new Error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es des administrateurs");return await o.json()},getSingleAdmin:async t=>{const r=localStorage.getItem("userToken"),a=await fetch("".concat(e,"admin/").concat(t),{headers:{Authorization:"Bearer ".concat(r)}});if(!a.ok)throw new Error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es de l\u2019administrateur");return await a.json()},addAdmin:async t=>{const r=localStorage.getItem("userToken"),a=await fetch("".concat(e,"admin"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(t)});if(!a.ok)throw new Error("Erreur lors de l\u2019ajout de l\u2019administrateur");return await a.json()},editAdmin:async(t,r)=>{const a=localStorage.getItem("userToken"),o=await fetch("".concat(e,"admin/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(r)});if(!o.ok)throw new Error("Erreur lors de la mise \xe0 jour de l\u2019administrateur");return await o.json()},deleteAdmin:async t=>{const r=localStorage.getItem("userToken"),a=await fetch("".concat(e,"admin/").concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(r)}});if(!a.ok)throw new Error("Erreur lors de la suppression de l\u2019administrateur");return await a.json()}}},871:(t,r,a)=>{a.r(r),a.d(r,{default:()=>d});var e=a(791),o=a(183),n=(a(907),a(418),a(835)),i=a(184);const s=(0,e.lazy)((()=>a.e(927).then(a.bind(a,927)))),c=(0,e.lazy)((()=>Promise.resolve().then(a.bind(a,321)))),d=()=>{const[t,r]=(0,e.useState)([]),[a,d]=(0,e.useState)(!0),[l,u]=(0,e.useState)(1),[w,h]=(0,e.useState)(!0),[m,f]=(0,e.useState)(16);(0,e.useEffect)((()=>{(async()=>{d(!0);try{const t=await o.E.getArtists(l,m);t.length>0?(r((r=>[...r,...t.map((t=>({id:t._id,title:t.name})))])),h(t.length===m)):h(!1)}catch(t){console.error(t)}finally{d(!1)}})()}),[l,m]);return(0,i.jsxs)("div",{className:"dashboard-list-view ",children:[(0,i.jsx)("h2",{children:"Artist Dashboard"}),a?(0,i.jsx)(n.Z,{}):(0,i.jsxs)(i.Fragment,{children:[w&&(0,i.jsx)(c,{label:"Charger plus",onClick:()=>{w&&u((t=>t+1))}}),(0,i.jsx)(s,{items:t,type:"artist"})]})]})}}}]);
//# sourceMappingURL=871.a84ef97f.chunk.js.map