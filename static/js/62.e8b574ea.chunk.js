"use strict";(self.webpackChunkspotify_back=self.webpackChunkspotify_back||[]).push([[62],{927:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var s=a(791),o=a(907),n=a(183),r=a(144),i=a(835),l=a(184);const c=(0,s.lazy)((()=>a.e(828).then(a.bind(a,828)))),d=(0,s.lazy)((()=>a.e(839).then(a.bind(a,839)))),u=(0,s.lazy)((()=>a.e(275).then(a.bind(a,275)))),h=(0,s.lazy)((()=>a.e(320).then(a.bind(a,320)))),b=e=>{let{items:t,type:a}=e;const[b,j]=(0,s.useState)(1),[w,x]=(0,s.useState)(""),g=(0,s.useMemo)((()=>t.filter((e=>{const t=!!e.title&&e.title.toLowerCase().includes(w.toLowerCase()),a=!!e.artist&&e.artist.toLowerCase().includes(w.toLowerCase());return t||a}))),[t,w]),m=Math.ceil(g.length/4),p=(0,s.useMemo)((()=>{const e=4*(b-1);return g.slice(e,e+4)}),[b,g]),y=(0,s.useMemo)((()=>(0,l.jsx)(s.Suspense,{fallback:(0,l.jsx)(i.Z,{}),children:p.map((e=>(0,l.jsx)(c,{data:e,type:a},e.id)))})),[p,a]),k=()=>j((e=>Math.max(e-1,1))),f=()=>j((e=>Math.min(e+1,m)));return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:(0,l.jsx)(h,{onSearchChange:e=>{x(e),j(1)}})}),(0,l.jsx)(u,{currentPage:b,totalPages:m,onPrevious:k,onNext:f}),y,(0,l.jsx)(d,{type:a,onAdd:async(e,t)=>{try{switch(console.log("newData :",e),t){case"artist":await n.E.createArtist(e);const t=await n.E.getLastArtist();console.log("Objet retourn\xe9 par getLastArtist:",t);const a={id:t._id,title:t.name};console.log("Objet \xe0 ajouter dans IndexedDB:",a),delete a._id,console.log("last add",a),await(0,r.xY)(a);break;case"song":await n.E.uploadAudio(e);break;case"album":await n.E.createAlbum(e);break;case"admin":await n.E.addAdmin(e)}o.B.notify("Ajout r\xe9ussie","success")}catch(a){console.error("Erreur lors de l'ajout de l'\xe9l\xe9ment :",a)}}}),(0,l.jsx)(u,{currentPage:b,totalPages:m,onPrevious:k,onNext:f})]})}}}]);
//# sourceMappingURL=62.e8b574ea.chunk.js.map