"use strict";(self.webpackChunkspotify_back=self.webpackChunkspotify_back||[]).push([[62],{927:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var s=a(791),n=a(907),i=a(183),o=a(144),r=a(835),c=a(184);const l=(0,s.lazy)((()=>a.e(828).then(a.bind(a,828)))),d=(0,s.lazy)((()=>a.e(839).then(a.bind(a,839)))),u=(0,s.lazy)((()=>a.e(275).then(a.bind(a,275)))),h=(0,s.lazy)((()=>a.e(320).then(a.bind(a,320)))),w=e=>{let{items:t,type:a}=e;const[w,b]=(0,s.useState)(1),[m,x]=(0,s.useState)(""),y=(0,s.useMemo)((()=>t.filter((e=>{const t=!!e.title&&e.title.toLowerCase().includes(m.toLowerCase()),a=!!e.artist&&e.artist.toLowerCase().includes(m.toLowerCase());return t||a}))),[t,m]),g=Math.ceil(y.length/4),j=(0,s.useMemo)((()=>{const e=4*(w-1);return y.slice(e,e+4)}),[w,y]);console.log("ITEMS : ",j);const p=(0,s.useMemo)((()=>(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(r.Z,{}),children:j.map((e=>(0,c.jsx)(l,{data:e,type:a},e._id)))})),[j,a]),k=()=>b((e=>Math.max(e-1,1))),f=()=>b((e=>Math.min(e+1,g)));return(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{children:(0,c.jsx)(h,{onSearchChange:e=>{x(e),b(1)}})}),(0,c.jsx)(u,{currentPage:w,totalPages:g,onPrevious:k,onNext:f}),p,(0,c.jsx)(d,{type:a,onAdd:async(e,t)=>{try{switch(console.log("newData :",e),t){case"artist":await i.E.createArtist(e);const t=await i.E.getLastArtist(),a={_id:t._id,name:t.title};delete a._id,await(0,o.xY)(a);break;case"song":await i.E.uploadAudio(e);break;case"album":await i.E.createAlbum(e);break;case"admin":await i.E.addAdmin(e);await i.E.getLastAdmin()}n.B.notify("Ajout r\xe9ussie","success")}catch(a){console.error("Erreur lors de l'ajout de l'\xe9l\xe9ment :",a)}}}),(0,c.jsx)(u,{currentPage:w,totalPages:g,onPrevious:k,onNext:f})]})}}}]);
//# sourceMappingURL=62.ff981f4d.chunk.js.map