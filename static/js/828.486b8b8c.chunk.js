"use strict";(self.webpackChunkspotify_back=self.webpackChunkspotify_back||[]).push([[828],{828:(e,s,a)=>{a.r(s),a.d(s,{default:()=>m});var i=a(791),t=a(183),c=a(907),d=a(144),l=a(943),r=a(184);const n=(0,i.lazy)((()=>Promise.resolve().then(a.bind(a,321)))),o=(0,i.lazy)((()=>a.e(54).then(a.bind(a,54)))),u=e=>{let{type:s,data:a,onClick:u,onRefresh:m}=e;const[h,j]=(0,i.useState)(!1),[x,v]=(0,i.useState)(null),[p,f]=(0,i.useState)(null),b=()=>{j(!0),v(a),f("update")},y=()=>{j(!0),v(a),f("delete")};return(0,r.jsxs)("div",{className:"card",onClick:u,children:[(()=>{switch(s){case"artist":return(0,r.jsx)("div",{className:"card",children:(0,r.jsx)("div",{className:"card-content",children:(0,r.jsx)("div",{className:"card-details",children:a.title})})});case"song":return(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("div",{className:"card-image",children:(0,r.jsx)("img",{src:a.picture,alt:a.album})}),(0,r.jsxs)("div",{className:"card-content",children:[(0,r.jsx)("div",{className:"card-title",children:a.title}),(0,r.jsxs)("div",{className:"card-details",children:[(0,r.jsxs)("div",{children:[a.artist," - ",a.album]}),(0,r.jsx)("div",{children:a.releaseDate})]}),(0,r.jsx)("div",{className:"card-genre",children:(0,r.jsx)("div",{children:a.genre})})]})]});case"album":return(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("div",{className:"card-image",children:(0,r.jsx)("img",{src:a.picture,alt:a.title})}),(0,r.jsxs)("div",{className:"card-content",children:[(0,r.jsx)("div",{className:"card-title",children:a.title}),(0,r.jsx)("div",{className:"card-details",children:(0,r.jsxs)("div",{children:[a.artist," ",a.date]})}),(0,r.jsx)("div",{className:"card-genre",children:(0,r.jsxs)("div",{children:["Genre : ",a.genre]})})]})]});case"admin":return(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"card-content",children:[(0,r.jsx)("div",{className:"card-title",children:a.title}),(0,r.jsx)("div",{className:"card-details",children:(0,r.jsx)("div",{children:a.artist})})]})});default:return(0,r.jsx)("div",{children:"Donn\xe9es non disponibles"})}})(),(0,r.jsxs)("div",{className:"button-container",children:[(0,r.jsx)(n,{label:"Modifier",onClick:b}),(0,r.jsx)(n,{label:"Supprimer",onClick:y})]}),h&&(0,r.jsx)(o,{isOpen:h,onClose:()=>j(!1),data:x,onSubmit:async e=>{j(!1);try{"update"===p?await(async e=>{switch(s){case"song":await t.E.editAudio(e);const a=await t.E.getSingleAudio(e._id),i=await(0,l.qx)(a.audios[0],a,a.name);await(0,d.EU)(i),c.B.notify("Song updated successfully","success"),m();break;case"artist":await t.E.editArtist(e);const r=await t.E.getSingleArtist(e._id),n=await(0,l.H2)(r);await(0,d.ep)(n),c.B.notify("Artist updated successfully","success"),m();break;case"album":await t.E.editAlbum(e);const o=await t.E.getSingleAlbum(e._id),u=await(0,l.TI)(o);await(0,d.Yj)(u),c.B.notify("Album updated successfully","success"),m();break;default:console.error("Unsupported type for update: ".concat(s))}})(e):"delete"===p?await(async e=>{switch(s){case"song":await(0,d.zP)(e._id),await t.E.deleteSong(e._id),c.B.notify("Song deleted successfully","success");break;case"album":await(0,d.mV)(e._id),await t.E.deleteAlbum(e._id),c.B.notify("Album deleted successfully","success");break;case"artist":await(0,d.vB)(e._id),await t.E.deleteArtist(e._id),c.B.notify("Artist deleted successfully","success");break;default:console.error("Unsupported type for delete: ".concat(s))}})(e):c.B.notify("Unauthorized Action","warning")}catch(a){console.error("Error processing ".concat(p,":"),a),c.B.notify("Error processing ".concat(p),"error")}},actionType:p,type:s})]})};u.defaultProps={onClick:()=>{},onRefresh:()=>{}};const m=u}}]);
//# sourceMappingURL=828.486b8b8c.chunk.js.map