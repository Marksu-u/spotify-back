"use strict";(self.webpackChunkspotify_back=self.webpackChunkspotify_back||[]).push([[62],{927:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var s=a(791),i=a(907),n=a(183),r=a(144),o=a(943),c=a(835),l=a(184);const u=(0,s.lazy)((()=>a.e(828).then(a.bind(a,828)))),d=(0,s.lazy)((()=>a.e(839).then(a.bind(a,839)))),w=(0,s.lazy)((()=>a.e(275).then(a.bind(a,275)))),h=(0,s.lazy)((()=>a.e(320).then(a.bind(a,320)))),b=e=>{let{items:t,type:a,onRefresh:b}=e;const[m,x]=(0,s.useState)(1),[y,g]=(0,s.useState)(""),f=(0,s.useMemo)((()=>t.filter((e=>{const t=!!e.title&&e.title.toLowerCase().includes(y.toLowerCase()),a=!!e.artist&&e.artist.toLowerCase().includes(y.toLowerCase());return t||a}))),[t,y]),j=Math.ceil(f.length/4),k=(0,s.useMemo)((()=>{const e=4*(m-1);return f.slice(e,e+4)}),[m,f]),p=(0,s.useMemo)((()=>(0,l.jsx)(s.Suspense,{fallback:(0,l.jsx)(c.Z,{}),children:k.map((e=>(0,l.jsx)(u,{data:e,type:a,onRefresh:b},e._id)))})),[k,a]),A=()=>x((e=>Math.max(e-1,1))),E=()=>x((e=>Math.min(e+1,j)));return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:(0,l.jsx)(h,{onSearchChange:e=>{g(e),x(1)}})}),(0,l.jsx)(w,{currentPage:m,totalPages:j,onPrevious:A,onNext:E}),p,(0,l.jsx)(d,{type:a,onAdd:async(e,t)=>{try{switch(console.log("newData :",e),t){case"artist":await n.E.createArtist(e);const t=await n.E.getLastArtist(),a=await(0,o.H2)(t);await(0,r.xY)(a);break;case"song":await n.E.uploadAudio(e);const s=await n.E.getLastAudio(),i=await(0,o.qx)(s.audios[0],s,s.name);await(0,r.ei)(i);break;case"album":await n.E.createAlbum(e);const c=await n.E.getLastAlbum(),l=await(0,o.TI)(c);await(0,r.kI)(l);break;case"admin":await n.E.addAdmin(e)}i.B.notify("Ajout r\xe9ussie","success"),b()}catch(a){i.B.notify("Erreur","warning"),console.error("Erreur lors de l'ajout de l'\xe9l\xe9ment :",a)}}}),(0,l.jsx)(w,{currentPage:m,totalPages:j,onPrevious:A,onNext:E})]})}}}]);
//# sourceMappingURL=62.2471aa83.chunk.js.map